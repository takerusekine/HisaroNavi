function toggleRegion(){areaselect()}function imgratio(){var e=$("#kvimg").outerWidth(),t=1068*e/1600;$("#kvimg").css("height",t+"px")}function areaselect(){$.each($("#areamap button"),function(){$(this).on("click",function(){$("#areamodal").modal("hide");var e=$(this).text();e=$.trim(e),$("#areaname").val(e),$("input[name=area_flash]").attr("value",e),$("#areaname").attr("value",e)})})}function mapListChange(){$("#btn-map").on("click",function(){$("#regionList").css("display","none"),$("#regionMap").css("display","block"),$("#btn-list").removeClass("btn-warning"),$("#btn-list").addClass("btn-secondary"),$(this).removeClass("btn-secondary"),$(this).addClass("btn-warning")}),$("#btn-list").on("click",function(){$("#regionMap").css("display","none"),$("#regionList").css("display","block"),$("#btn-map").removeClass("btn-warning"),$("#btn-map").addClass("btn-secondary"),$(this).removeClass("btn-secondary"),$(this).addClass("btn-warning")})}function sliderClick(){$(".sliderIndex li").on("click",function(){var e=$(this).index();$(".sliderIndex li").removeClass("active"),$(this).addClass("active"),$(".slider li").removeClass("showimg"),$(".slider li").css("display","none"),$(".slider li").eq(e).fadeIn().addClass("showimg")})}function countHit(){var e=$("#count").text();$("#ajax-counter").text(e)}function getScrollBottom(){var e=window.document.body,t=window.document.documentElement,n=e.scrollTop||t.scrollTop;return t.scrollHeight-t.clientHeight-n}function menuOpen(){var e,t=!1,n=$("body");$("#hamburger").on("click",function(){t===!1?(e=$(window).scrollTop(),n.addClass("menu-open").css({top:-1*e}),t=!0):(n.removeClass("menu-open").css({top:0}),window.scrollTo(0,e),t=!1)})}if($(document).ready(function(){$(".nav-item a").click(function(e){e.preventDefault(),$(this).tab("show")}),Cookies.get("hisaronavi_area")?($("input[name=area_flash]").attr("value",Cookies.get("hisaronavi_area")),$("#areaname").attr("value",Cookies.get("hisaronavi_area"))):$("#areamodal").modal("show"),$('[data-toggle="tooltip"]').tooltip(),toggleRegion(),mapListChange(),sliderClick(),countHit(),0==Cookies.get("refineprice")&&($("#range-slider").attr("disabled","true"),$(".noUi-tooltip").text("-円")),menuOpen()}),$('button[name="areabtn"]').on("click",function(){var e=$(this).children("span").text();Cookies.set("hisaronavi_area",e),$("#areaname").text(e)}),$("#gobacktop").click(function(){var e=400,t=$(this).attr("href"),n=$("#"==t||""==t?"html":t),i=n.offset().top;return $("body,html").animate({scrollTop:i},e,"swing"),!1}),$("#regionBtn").on("click",function(){$("#areamodal").modal("show")}),$(".refine-btns button").on("click",function(){var e=$(this).attr("data-refine");$(".menulist dl").removeClass("vis last-bd"),$(".refine-btns button").removeClass("refine-btn-active"),$(".refine-fix li").removeClass("refine-active"),$(".menulist").children("dl").fadeOut(),$("p.alertmsg").fadeOut(),$(this).addClass("refine-btn-active"),"all"===e?($(".menulist").children("dl").addClass("vis"),$(".refine-fix li[data-refine=all]").addClass("refine-active"),$(".menulist").children("dl").fadeIn(),$(".vis").last().addClass("last-bd")):($(".menulist").children("dl[data-grade="+e+"]").addClass("vis"),$(".refine-fix li").eq(e).addClass("refine-active"),$(".menulist").children("dl[data-grade=5]").addClass("vis"),$(".vis").last().addClass("last-bd"),$(".menulist").children("dl[data-grade="+e+"]").fadeIn(),$(".menulist").children("dl[data-grade=5]").fadeIn(),0===$(".vis").length&&$(".menulist").after('<p class="alertmsg">'+$(this).text()+"のマシーンメニュー情報はありません</p>"))}),$(".refine-fix li").on("click",function(){var e=$(this).attr("data-refine");$(".menulist dl").removeClass("vis last-bd"),$(".refine-btns button").removeClass("refine-btn-active"),$(".refine-fix li").removeClass("refine-active"),$(".menulist").children("dl").fadeOut(),$("p.alertmsg").fadeOut(),$(".refine-btns button[data-refine="+e+"]").addClass("refine-btn-active"),"all"===e?($(".menulist").children("dl").addClass("vis"),$(".refine-fix li[data-refine=all]").addClass("refine-active"),$(".menulist").children("dl").fadeIn(),$(".vis").last().addClass("last-bd")):($(".menulist").children("dl[data-grade="+e+"]").addClass("vis"),$(".refine-fix li").eq(e).addClass("refine-active"),$(".menulist").children("dl[data-grade=5]").addClass("vis"),$(".vis").last().addClass("last-bd"),$(".menulist").children("dl[data-grade="+e+"]").fadeIn(),$(".menulist").children("dl[data-grade=5]").fadeIn(),0===$(".vis").length&&$(".menulist").after('<p class="alertmsg">'+$(this).text()+"のマシーンメニュー情報はありません</p>"))}),$(window).scroll(function(){$("#menuindex").hasClass("active")&&(getScrollBottom()<1500?$(".refine-fix-wrapper").fadeOut(200):$(".refine-fix-wrapper").fadeIn(200))}),$(".bottom-fix").length&&$(window).scroll(function(){getScrollBottom()<1500?$(".bottom-fix").fadeOut(200):$(".bottom-fix").fadeIn(200)}),$(".parent-td label").on("change",function(){var e=$(this).children("input").attr("data-num");$(this).children('input[name="parent-check"]').prop("checked")?$('input[data-num="'+e+'"]').prop("checked",!0):$('input[data-num="'+e+'"]').prop("checked",!1)}),$("#slider-check").length){var slider=document.getElementById("range-slider");Cookies.get("lowerPrice")?noUiSlider.create(slider,{start:[Cookies.get("lowerPrice"),Cookies.get("upperPrice")],connect:!0,step:500,margin:1e3,tooltips:[!0,wNumb({postfix:"円",decimals:0,thousand:","})],range:{min:0,max:3500},format:wNumb({decimals:0,thousand:",",postfix:"円"})}):noUiSlider.create(slider,{start:[0,3500],connect:!0,step:500,margin:1e3,tooltips:[!0,wNumb({postfix:"円",decimals:0,thousand:","})],range:{min:0,max:3500},format:wNumb({decimals:0,thousand:",",postfix:"円"})}),$("#slider-check").on("change",function(){var e=$(this).children('input[name="pricerefine"]');if(e.prop("checked")===!0){e.val("1"),$("#range-slider").removeAttr("disabled");var t=document.getElementById("range-slider").noUiSlider.get();$(".noUi-handle-lower").children(".noUi-tooltip").text(t[0]),$(".noUi-handle-upper").children(".noUi-tooltip").text(t[1])}else e.val("0"),$("#range-slider").attr("disabled","true"),$(".noUi-tooltip").text("-円")}),slider.noUiSlider.on("update",function(e,t,n){var i=document.getElementById("lowerPrice"),a=document.getElementById("upperPrice");i.value=n[0],a.value=n[1]})}$("#tab-btn button").on("click",function(){$("#tab-btn button").removeClass("active-btn"),$(this).addClass("active-btn");var e=$(this).parent("li").index();$("#menutab li:eq("+e+") a").tab("show"),$("body, html").animate({scrollTop:0},400)}),$("#menutab li a").on("click",function(){var e=$(this).parent("li").index();$("#tab-btn li button").removeClass("active-btn"),$("#tab-btn li:eq("+e+") button").addClass("active-btn")}),$('input[name="pricerefine"]').length&&$('button[type="submit"]').on("click",function(){var e=$('input[name="pricerefine"]').val(),t=$('input[name="lower-price"]').val(),n=$('input[name="upper-price"]').val();Cookies.set("refineprice",e),Cookies.set("lowerPrice",t),Cookies.set("upperPrice",n)}),$('button[name="continue-btn"]').on("click",function(){$(".sgi-wrap").slideToggle("400",function(){"none"==$(".sgi-wrap").css("display")?($('button[name="continue-btn"]').children("i").text("playlist_add"),$('button[name="continue-btn"]').children("span").text("続きを見る")):($('button[name="continue-btn"]').children("i").text("close"),$('button[name="continue-btn"]').children("span").text("閉じる"))})});